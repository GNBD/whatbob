<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>오늘 뭐 먹지? - 식사추천은? whatbob~ </title>
    <style>
        /* 웹 폰트 로드 */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');

        /* 전체 페이지 스타일 */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f4f7f6;
            flex-direction: column;
            padding: 20px;
        }

        /* 메인 컨테이너 스타일 */
        #container {
            position: relative; 
            text-align: center;
            background-color: white;
            padding: 40px 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 550px;
        }

        h1 {
            margin-top: 0;
            color: #333;
        }

        /* 검색창 스타일 */
        #tagInput {
            width: 80%;
            padding: 12px 20px;
            font-size: 1em;
            border: 2px solid #ddd;
            border-radius: 30px;
            margin-bottom: 25px;
            transition: border-color 0.3s;
        }
        #tagInput:focus {
            outline: none;
            border-color: #ff6347;
        }

        /* 결과가 표시될 텍스트 스타일 */
        #result {
            font-size: 3.5em;
            font-weight: 700;
            color: #2c3e50;
            height: 100px; /* 높이 고정 */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* 태그 표시 영역 스타일 */
        #tags {
            font-size: 1.1em;
            color: #7f8c8d;
            height: 40px;
            margin-top: 10px;
        }

        /* 버튼 스타일 */
        #spinButton {
            margin-top: 20px;
            padding: 15px 35px;
            font-size: 1.2em;
            font-weight: bold;
            color: white;
            background-color: #ff6347; /* 토마토 색 */
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 99, 71, 0.3);
        }

        #spinButton:hover {
            background-color: #e5533d;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 99, 71, 0.4);
        }
        #spinButton:active {
            transform: translateY(0);
        }
        
        /* 버전 표시 스타일 */
        #version {
            position: absolute;
            bottom: 15px;
            right: 25px;
            font-size: 0.8em;
            color: #ccc;
            font-weight: bold;
        }

        /* === 결과 링크 스타일 (추가됨) === */
        #result a {
            color: inherit; /* 부모 요소(h2)의 색상을 그대로 사용 */
            text-decoration: none; /* 평소에는 밑줄 제거 */
            transition: opacity 0.2s;
        }

        #result a:hover {
            text-decoration: underline; /* 마우스를 올리면 밑줄 표시 */
            opacity: 0.8; /* 살짝 투명하게 */
        }
    </style>
</head>
<body>

    <div id="container">
        <h1>오늘 뭐 먹지? 🧐</h1>
        <input type="text" id="tagInput" placeholder="예: 해장, 고기, 간편하게, 매콤한거...">
        <h2 id="result">?</h2>
        <div id="tags"></div>
        <button id="spinButton">메뉴 추천!</button>
        
        <div id="version">v1.0</div>
    </div>

    <script>
        // (스크립트 상단, 음식 목록은 이전과 동일)
        const foodList = [
            { name: "김치찌개", tags: "한식, 국물, 찌개, 해장, 점심, 얼큰" }, { name: "된장찌개", tags: "한식, 국물, 찌개, 구수, 백반, 집밥" }, { name: "부대찌개", tags: "한식, 국물, 찌개, 퓨전, 햄, 저녁, 술안주" }, { name: "순두부찌개", tags: "한식, 국물, 찌개, 해장, 매콤, 몽글" }, { name: "동태탕", tags: "한식, 국물, 탕, 해산물, 해장, 얼큰, 아재입맛" }, { name: "알탕", tags: "한식, 국물, 탕, 해산물, 얼큰, 술안주, 고급" }, { name: "닭개장", tags: "한식, 국물, 탕, 닭, 얼큰, 보양, 든든" }, { name: "제육볶음", tags: "한식, 고기, 볶음, 매콤, 덮밥, 점심, 국민메뉴" }, { name: "소불고기", tags: "한식, 고기, 달콤, 남녀노소, 가족외식, 밥도둑" }, { name: "닭갈비", tags: "한식, 고기, 닭, 매콤, 저녁, 볶음밥, 치즈" }, { name: "찜닭", tags: "한식, 고기, 닭, 간장, 찜, 저녁, 납작당면" }, { name: "삼겹살구이", tags: "한식, 고기, 구이, 회식, 저녁, 스트레스" }, { name: "갈비찜", tags: "한식, 고기, 찜, 명절, 잔치, 고급, 부드러운" }, { name: "감자탕", tags: "한식, 국물, 탕, 해장, 고기, 저녁, 술안주, 든든" }, { name: "뼈해장국", tags: "한식, 국물, 탕, 해장, 고기, 혼밥, 든든" }, { name: "닭볶음탕", tags: "한식, 닭, 찜, 매콤, 저녁, 술안주, 감자" }, { name: "김치볶음밥", tags: "한식, 밥, 볶음, 간편, 혼밥, 자취요리, 계란후라이" }, { name: "쭈꾸미볶음", tags: "한식, 해산물, 볶음, 매콤, 스트레스, 술안주" }, { name: "오징어볶음", tags: "한식, 해산물, 볶음, 매콤, 백반, 밥도둑" }, { name: "곱창/대창구이", tags: "한식, 고기, 구이, 술안주, 저녁, 기름진, 고소" }, { name: "버섯전골", tags: "한식, 국물, 전골, 야채, 건강, 따뜻, 가족외식" }, { name: "보쌈", tags: "한식, 고기, 수육, 야식, 회식, 부드러운, 김장" }, { name: "족발", tags: "한식, 고기, 야식, 콜라겐, 회식, 막국수" }, { name: "해물파전", tags: "한식, 전, 비오는날, 막걸리, 술안주, 해산물" }, { name: "김치전", tags: "한식, 전, 비오는날, 간단, 막걸리, 자취요리" }, { name: "잡채", tags: "한식, 명절, 잔치, 면, 남녀노소, 손많이감" }, { name: "떡갈비", tags: "한식, 고기, 남녀노소, 다짐육, 아이들, 달콤" }, { name: "비빔밥", tags: "한식, 밥, 야채, 건강, 점심, 간단" }, { name: "돌솥비빔밥", tags: "한식, 밥, 따뜻, 누룽지, 점심, 건강" }, { name: "육회비빔밥", tags: "한식, 밥, 날것, 고소, 신선, 고급" }, { name: "꼬막비빔밥", tags: "한식, 밥, 해산물, 제철, 별미, 벌교" }, { name: "콩나물국밥", tags: "한식, 밥, 국물, 해장, 가성비, 아침, 전주" }, { name: "설렁탕", tags: "한식, 밥, 국물, 든든, 보양, 아침, 깍두기" }, { name: "갈비탕", tags: "한식, 밥, 국물, 든든, 보양, 잔치, 고급" }, { name: "수제비", tags: "한식, 밀가루, 국물, 비오는날, 쫀득, 간단" }, { name: "바지락칼국수", tags: "한식, 면, 국물, 해산물, 시원, 점심" }, { name: "들깨칼국수", tags: "한식, 면, 국물, 고소, 건강, 걸쭉" }, { name: "물냉면", tags: "한식, 면, 여름, 시원, 해장, 고기짝꿍" }, { name: "비빔냉면", tags: "한식, 면, 여름, 매콤, 스트레스, 고기짝꿍" }, { name: "콩국수", tags: "한식, 면, 여름, 고소, 건강, 호불호" }, { name: "막국수", tags: "한식, 면, 여름, 강원도, 시원, 메밀" }, { name: "육회", tags: "한식, 날것, 술안주, 고소, 신선, 계란노른자" }, { name: "간장게장", tags: "한식, 해산물, 밥도둑, 갑각류, 짭짤" }, { name: "양념게장", tags: "한식, 해산물, 밥도둑, 매콤, 갑각류, 스트레스" }, { name: "생선구이정식", tags: "한식, 해산물, 구이, 백반, 집밥, 담백" }, { name: "고등어조림", tags: "한식, 해산물, 조림, 매콤, 밥도둑, 무" }, { name: "해물찜", tags: "한식, 해산물, 찜, 매콤, 푸짐, 아삭, 콩나물" }, { name: "아귀찜", tags: "한식, 해산물, 찜, 매콤, 아재입맛, 콩나물" }, { name: "물회", tags: "한식, 해산물, 여름, 시원, 회, 새콤달콤" }, { name: "연포탕", tags: "한식, 해산물, 탕, 낙지, 보양식, 시원" }, { name: "매운탕", tags: "한식, 해산물, 탕, 얼큰, 해장, 술안주, 쑥갓" }, { name: "떡볶이", tags: "한식, 분식, 매콤, 국민간식, 스트레스, 쌀떡밀떡" }, { name: "김밥", tags: "한식, 분식, 간편, 소풍, 한끼, 라면짝꿍" }, { name: "만두", tags: "한식, 중식, 간식, 찜, 고기만두김치만두" }, { name: "순대", tags: "한식, 분식, 내장, 떡볶이짝꿍, 찹쌀순대" }, { name: "쫄면", tags: "한식, 분식, 면, 매콤새콤, 쫄깃, 야채" }, { name: "라면", tags: "한식, 분식, 면, 간편, 해장, 야식, 자취요리" }, { name: "짜장면", tags: "중식, 면, 대표메뉴, 간단, 빠른, 이사" }, { name: "짬뽕", tags: "중식, 면, 국물, 해장, 매콤, 얼큰, 해산물" }, { name: "간짜장", tags: "중식, 면, 볶음짜장, 계란후라이, 근본" }, { name: "탕수육", tags: "중식, 고기, 튀김, 요리, 부먹찍먹, 대표메뉴" }, { name: "볶음밥", tags: "중식, 밥, 고슬고슬, 간단, 짜장소스" }, { name: "마파두부덮밥", tags: "중식, 덮밥, 사천, 매콤, 두부, 혼밥" }, { name: "깐풍기", tags: "중식, 닭, 튀김, 요리, 매콤, 술안주" }, { name: "유린기", tags: "중식, 닭, 튀김, 요리, 새콤, 야채" }, { name: "고추잡채", tags: "중식, 요리, 꽃빵, 볶음, 피망, 술안주" }, { name: "양장피", tags: "중식, 요리, 냉채, 겨자, 코찡, 야채" }, { name: "마라탕", tags: "중식, 탕, 매운, 퓨전, 얼얼, 땅콩소스" }, { name: "마라샹궈", tags: "중식, 볶음, 매운, 퓨전, 밥도둑, 술안주" }, { name: "훠궈", tags: "중식, 탕, 샤브샤브, 홍탕백탕, 회식" }, { name: "꿔바로우", tags: "중식, 고기, 튀김, 찹쌀, 새콤달콤, 쫀득" }, { name: "우육면", tags: "중식, 면, 대만, 국물, 고기, 향신료" }, { name: "샤오롱바오", tags: "중식, 딤섬, 육즙, 만두, 생강" }, { name: "멘보샤", tags: "중식, 튀김, 새우, 빵, 바삭, 간식" }, { name: "가지튀김", tags: "중식, 튀김, 야채, 별미, 겉바속촉" }, { name: "경장육슬", tags: "중식, 볶음, 고기, 건두부쌈, 짜장" }, { name: "초밥", tags: "일식, 해산물, 밥, 대표메뉴, 신선, 깔끔" }, { name: "돈코츠라멘", tags: "일식, 면, 국물, 돼지뼈, 진한, 차슈" }, { name: "미소라멘", tags: "일식, 면, 국물, 된장, 구수, 짭짤" }, { name: "돈까스", tags: "일식, 튀김, 고기, 경양식, 점심, 바삭" }, { name: "치즈돈까스", tags: "일식, 튀김, 고기, 치즈, 쭉쭉, 느끼" }, { name: "우동", tags: "일식, 면, 국물, 따뜻, 휴게소, 쫄깃" }, { name: "소바 (자루/온)", tags: "일식, 면, 여름, 메밀, 시원, 깔끔" }, { name: "카레라이스", tags: "일식, 밥, 덮밥, 대중적, 간단, 자취요리" }, { name: "규동", tags: "일식, 덮밥, 소고기, 간단, 혼밥, 달콤" }, { name: "가츠동", tags: "일식, 덮밥, 돈까스, 계란, 든든" }, { name: "회덮밥", tags: "일식, 해산물, 밥, 회, 야채, 새콤" }, { name: "사케동", tags: "일식, 덮밥, 연어, 신선, 깔끔, 여성선호" }, { name: "오야코동", tags: "일식, 덮밥, 닭, 계란, 부드러운" }, { name: "장어덮밥 (우나동)", tags: "일식, 덮밥, 보양식, 고급, 장어" }, { name: "텐동 (튀김덮밥)", tags: "일식, 덮밥, 튀김, 바삭, 느끼" }, { name: "함박스테이크", tags: "일식, 양식, 고기, 다짐육, 경양식, 데이트" }, { name: "타코야끼", tags: "일식, 간식, 문어, 길거리음식, 가쓰오부시" }, { name: "오코노미야끼", tags: "일식, 부침개, 철판요리, 술안주, 마요네즈" }, { name: "야키소바", tags: "일식, 볶음면, 철판요리, 단짠, 간편" }, { name: "스키야키", tags: "일식, 전골, 소고기, 달콤짭짤, 계란노른자" }, { name: "밀푀유나베", tags: "일식, 전골, 샤브샤브, 비주얼, 손님초대" }, { name: "야키니쿠", tags: "일식, 구이, 소고기, 화로, 고급, 회식" }, { name: "회", tags: "일식, 해산물, 날것, 술안주, 신선, 쫀득" }, { name: "오일파스타", tags: "양식, 면, 이탈리안, 담백, 깔끔, 알리오올리오" }, { name: "토마토파스타", tags: "양식, 면, 이탈리안, 클래식, 새콤, 기본" }, { name: "크림파스타", tags: "양식, 면, 이탈리안, 꾸덕, 고소, 느끼" }, { name: "로제파스타", tags: "양식, 면, 이탈리안, 퓨전, 크림토마토" }, { name: "피자", tags: "양식, 이탈리안, 치즈, 토핑, 파티, 배달" }, { name: "스테이크", tags: "양식, 고기, 소고기, 고급, 데이트, 기념일" }, { name: "햄버거", tags: "양식, 간편, 미국, 패스트푸드, 점심, 혼밥" }, { name: "샌드위치", tags: "양식, 간편, 빵, 브런치, 아침, 건강, 간단" }, { name: "리조또", tags: "양식, 밥, 이탈리안, 크림, 꾸덕, 쌀" }, { name: "필라프", tags: "양식, 밥, 볶음, 터키, 고슬고슬" }, { name: "샐러드", tags: "양식, 건강, 다이어트, 야채, 가벼운, 풀" }, { name: "감바스", tags: "양식, 스페인, 새우, 술안주, 마늘, 오일" }, { name: "빠에야", tags: "양식, 스페인, 밥, 해산물, 샤프란" }, { name: "라자냐", tags: "양식, 이탈리안, 오븐, 파스타, 치즈, 토마토" }, { name: "뇨끼", tags: "양식, 이탈리안, 감자, 쫀득, 크림소스" }, { name: "에그 베네딕트", tags: "양식, 브런치, 계란, 빵, 고급, 주말" }, { name: "슈니첼", tags: "양식, 독일, 돈까스, 튀김, 얇은" }, { name: "굴라쉬", tags: "양식, 헝가리, 스튜, 소고기, 토마토" }, { name: "클램차우더", tags: "양식, 스프, 조개, 크림, 부드러운" }, { name: "BBQ플래터", tags: "양식, 미국, 고기, 바베큐, 푸짐, 파티" }, { name: "쌀국수", tags: "아시안, 베트남, 면, 해장, 국물, 숙주, 뜨끈" }, { name: "분짜", tags: "아시안, 베트남, 면, 직화고기, 새콤달콤, 야채" }, { name: "반미", tags: "아시안, 베트남, 샌드위치, 바게트, 고수" }, { name: "팟타이", tags: "아시안, 태국, 볶음면, 새콤달콤, 땅콩, 숙주" }, { name: "푸팟퐁커리", tags: "아시안, 태국, 게, 소프트쉘크랩, 카레, 밥도둑" }, { name: "똠얌꿍", tags: "아시안, 태국, 스프, 세계3대스프, 호불호, 향신료" }, { name: "나시고랭", tags: "아시안, 인도네시아, 볶음밥, 계란후라이" }, { name: "탄두리치킨", tags: "아시안, 인도, 닭, 화덕, 향신료" }, { name: "커리 (인도식)", tags: "아시안, 인도, 난, 향신료, 카레, 이국적" }, { name: "케밥", tags: "기타, 터키, 고기, 꼬치, 길거리음식" }, { name: "타코", tags: "기타, 멕시코, 옥수수, 또띠아, 사워크림, 이국적" }, { name: "부리또", tags: "기타, 멕시코, 밥, 또띠아, 든든, 간편" }, { name: "퀘사디아", tags: "기타, 멕시코, 치즈, 또띠아, 간식, 술안주" }, { name: "포케", tags: "기타, 하와이, 덮밥, 샐러드, 건강, 다이어트, 신선" }, { name: "치킨", tags: "기타, 야식, 닭, 튀김, 국민간식, 배달, 맥주" }, { name: "닭강정", tags: "기타, 분식, 닭, 달콤, 간식, 땅콩" }, { name: "핫도그", tags: "기타, 간식, 길거리음식, 설탕케찹, 간단" }, { name: "토스트", tags: "기타, 간편, 아침, 빵, 길거리음식, 간단" }, { name: "편의점 도시락", tags: "기타, 간편, 편의점, 밥, 혼밥, 가성비" }, { name: "삼각김밥", tags: "기타, 간편, 편의점, 밥, 아침, 가성비, 빠른식사" }, { name: "편의점 샌드위치", tags: "기타, 간편, 편의점, 빵, 브런치, 아침" }, { name: "편의점 햄버거", tags: "기타, 간편, 편의점, 빵, 빠른식사" }, { name: "컵라면", tags: "기타, 간편, 편의점, 면, 국물, 해장, 야식" }, { name: "편의점 김밥(줄김밥)", tags: "기타, 간편, 편의점, 밥, 빠른식사" }, { name: "핫바 (어묵바)", tags: "기타, 간편, 편의점, 간식, 길거리음식, 단백질" }, { name: "컵밥", tags: "기타, 간편, 편의점, 밥, 덮밥, 혼밥, 자취요리" }, { name: "삶은계란/훈제란", tags: "기타, 간편, 편의점, 단백질, 간식, 다이어트" }, { name: "편의점 조각치킨", tags: "기타, 간편, 편의점, 닭, 튀김, 야식" }
        ];

        const resultElement = document.getElementById('result');
        const tagsElement = document.getElementById('tags');
        const spinButton = document.getElementById('spinButton');
        const tagInput = document.getElementById('tagInput');

        function getCoreKeyword(query) {
            const suffixes = ["하게", "한거", "한것", "땡겨", "이요", "한", "운", "은", "는", "이", "가", "을", "를"];
            let coreKeyword = query;
            for (const suffix of suffixes) {
                if (coreKeyword.endsWith(suffix) && coreKeyword.length > suffix.length) {
                    coreKeyword = coreKeyword.slice(0, -suffix.length);
                    break;
                }
            }
            return coreKeyword;
        }

        spinButton.addEventListener('click', function() {
            const originalQuery = tagInput.value.trim();
            const searchKeyword = getCoreKeyword(originalQuery);
            const filteredList = searchKeyword ? foodList.filter(food => food.tags.includes(searchKeyword)) : foodList;
            let spinCount = 0;
            const spinDuration = 1500;
            const intervalTime = 50;
            
            resultElement.style.color = '#3498db';
            tagsElement.textContent = '';

            const spinInterval = setInterval(() => {
                spinCount++;
                const tempList = filteredList.length > 0 ? filteredList : foodList;
                const randomTempFood = tempList[Math.floor(Math.random() * tempList.length)];
                resultElement.textContent = randomTempFood.name; // 애니메이션 중에는 링크가 필요 없음
                if (spinCount * intervalTime > spinDuration) {
                    clearInterval(spinInterval);
                    showFinalResult(filteredList);
                }
            }, intervalTime);
        });

        function showFinalResult(list) {
            if (list.length === 0) {
                resultElement.innerHTML = "결과 없음 😅"; // 링크가 아니므로 innerHTML 또는 textContent 사용 가능
                tagsElement.textContent = "다른 키워드로 찾아보세요!";
                return;
            }
            const randomIndex = Math.floor(Math.random() * list.length);
            const finalFood = list[randomIndex];

            // URL에서 사용할 수 있도록 음식 이름을 인코딩
            const encodedFoodName = encodeURIComponent(finalFood.name);
            // Google 검색 URL 생성
            const searchUrl = `https://www.google.com/search?q=${encodedFoodName}`;

            // === 결과 표시 로직 변경 ===
            // <a> 태그를 포함한 HTML을 innerHTML 속성을 이용해 설정
            resultElement.innerHTML = `<a href="${searchUrl}" target="_blank" title="Google에서 '${finalFood.name}' 검색">${finalFood.name}</a>`;
            
            resultElement.style.color = '#e74c3c';
            
            const tagString = finalFood.tags.split(', ').map(tag => `#${tag}`).join(' ');
            tagsElement.textContent = tagString;
        }
    </script>

</body>
</html>
